using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class TimeAndScore : MonoBehaviour
{
    [SerializeField] Text scoreText, timeText;
    [SerializeField] GameObject explosion;
    [SerializeField] AudioClip balloonburstSFX;
    private int yellowBalloonValue = 0;
    public float time = 60f;

    public void addToScore()
    {
        if (time > 0)
            yellowBalloonValue += 5;
        scoreText.text = yellowBalloonValue.ToString();
    }
    public void addToTime()
    {
        if (time > 0)
        {
            time -= Time.deltaTime;
            timeText.text = time.ToString("N0");
        }
        else
        {
            GameObject[] allBalloonsBoom = GameObject.FindGameObjectsWithTag("balloon");
            for (int i = 0; i < allBalloonsBoom.Length; i++)
            {


                Destroy(allBalloonsBoom[i]);
                GameObject boom = Instantiate(explosion, allBalloonsBoom[i].transform.position, Quaternion.identity);
                Destroy(boom, .3f);
                AudioSource.PlayClipAtPoint(balloonburstSFX,allBalloonsBoom[i].transform.position);

            }
        }

    }
    public void Update()
    {
        addToTime();
    }

}
